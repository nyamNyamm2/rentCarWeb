<!doctype html>
<html layout:decorate="~{layout}">
<div layout:fragment="content" class="container my-3">
    <h2>회원수정</h2>

    <!-- 아이디 입력 폼 -->
    <form action="/member/modify" method="post" th:if="${member == null}">
        <div class="mb-3">
            <label for="id" class="form-label">아이디</label>
            <input type="text" class="form-control" id="id" name="id" required>
        </div>
        <button type="submit" class="btn btn-primary" style="background-color: #20c997">조회</button>
    </form>

    <!-- 오류 메시지 출력 -->
    <div th:if="${errorMessage != null}" class="mt-3">
        <p th:text="${errorMessage}" class="text-danger"></p>
    </div>

    <!-- 회원 정보 수정 폼 -->
    <form action="/member/update" method="post" th:if="${member != null}">
        <input type="hidden" name="id" th:value="${member.id}">
        <div class="mb-3">
            <label for="password" class="form-label">비밀번호</label>
            <input type="password" class="form-control" id="password" name="password" th:value="${member.password}" required>
        </div>
        <div class="mb-3">
            <label for="name" class="form-label">이름</label>
            <input type="text" class="form-control" id="name" name="name" th:value="${member.name}" required>
        </div>
        <div class="mb-3">
            <label for="address" class="form-label">주소</label>
            <input type="text" class="form-control" id="address" name="address" th:value="${member.address}" required>
        </div>
        <div class="mb-3">
            <label for="phoneNum" class="form-label">전화번호</label>
            <input type="text" class="form-control" id="phoneNum" name="phoneNum" th:value="${member.phoneNum}" required>
        </div>
        <button type="submit" class="btn btn-primary" style="background-color: #20c997">수정하기</button>
    </form>

    <!-- 성공 메시지 출력 -->
    <div th:if="${successMessage != null}" class="mt-3">
        <p th:text="${successMessage}" class="text-success"></p>
    </div>
</div>
</html>
